--// Pet Mutator/Duplicator GUI (Gray Minimal Design)

local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Clear old GUI
if playerGui:FindFirstChild("PetMutateGui") then
	playerGui:FindFirstChild("PetMutateGui"):Destroy()
end

local TweenService = game:GetService("TweenService")

-- ScreenGui
local screenGui = Instance.new("ScreenGui", playerGui)
screenGui.Name = "PetMutateGui"
screenGui.ResetOnSpawn = false

-- Main Frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 400, 0, 200)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

-- Title
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0.2, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "PET MUTATOR SYSTEM"
title.Font = Enum.Font.SourceSansBold
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextScaled = true

-- Action Button (Mutate/Duplicate)
local actionBtn = Instance.new("TextButton", mainFrame)
actionBtn.Size = UDim2.new(0.7, 0, 0.25, 0)
actionBtn.Position = UDim2.new(0.15, 0, 0.35, 0)
actionBtn.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
actionBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
actionBtn.Font = Enum.Font.SourceSans
actionBtn.Text = "Mutate / Duplicate"
actionBtn.TextScaled = true
actionBtn.BorderSizePixel = 0
actionBtn.AutoButtonColor = false

-- Loading Bar
local loadingBar = Instance.new("Frame", mainFrame)
loadingBar.Size = UDim2.new(0.7, 0, 0.05, 0)
loadingBar.Position = UDim2.new(0.15, 0, 0.65, 0)
loadingBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
loadingBar.BorderSizePixel = 0
loadingBar.Visible = false

local progress = Instance.new("Frame", loadingBar)
progress.Size = UDim2.new(0, 0, 1, 0)
progress.BackgroundColor3 = Color3.fromRGB(120, 120, 120)
progress.BorderSizePixel = 0

-- Success Message
local successMsg = Instance.new("TextLabel", mainFrame)
successMsg.Size = UDim2.new(1, 0, 0.2, 0)
successMsg.Position = UDim2.new(0, 0, 0.8, 0)
successMsg.BackgroundTransparency = 1
successMsg.TextColor3 = Color3.fromRGB(0, 255, 0)
successMsg.Font = Enum.Font.SourceSansBold
successMsg.Text = ""
successMsg.TextScaled = true

-- Function to simulate 4-min loading
local function startMutation()
	actionBtn.Text = "Processing..."
	actionBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	actionBtn.AutoButtonColor = false
	actionBtn.Active = false

	loadingBar.Visible = true
	progress.Size = UDim2.new(0, 0, 1, 0)

	-- Tween loading bar over 240 seconds
	local tween = TweenService:Create(progress, TweenInfo.new(240), {
		Size = UDim2.new(1, 0, 1, 0)
	})
	tween:Play()

	tween.Completed:Connect(function()
		loadingBar.Visible = false
		successMsg.Text = "âœ… Pet successfully mutated. Kindly check your inventory"
	end)
end

-- Connect button
actionBtn.MouseButton1Click:Connect(startMutation)
